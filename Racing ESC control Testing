#include<Servo.h>

// ch1 is rightStickSides;    
// ch2 is rightStickUpDown;
// ch3 is leftStickSides;    
// ch4 is leftStickUpDown;

int ch1 = 5;          
int ch2 = 6;
/*int ch3 = 9;
int ch4 = 10;
*/
Servo motorFL;      //name all the motors, (these are actually the ESCs that control the motors, but lets just call them motors for simplicity)
/*Servo motorFR;
Servo motorBL;
Servo motorBR;*/

void setup() {
  Serial.begin(9600);     //Activating serial communications (used so that we can print stuff on the screen to help us determine values)
  pinMode(ch1, INPUT);    //x//Because data is being sent to the arduino, its INPUT; still need to kow which channel is the x and y values for the sticks
  pinMode(ch2, INPUT);    //y
 /* pinMode(ch3, INPUT);    //x
    pinMode(ch4, INPUT);    //y
 */
  motorFL.attach(10);     
/*motorFR.attach(6);      //To the Front Right motor ESC
  motorBL.attach(9);      //To the Back Left motor ESC
  motorBR.attach(10);     //To the Back Right motor*/
}

void loop() {  
//ESC ACTIVATION
if(Serial.available() > 0){  // If there is incoming value
char ch = Serial.read(); // read the value
}


int righty = pulseIn(ch2, HIGH, 25000);  
int rightx = pulseIn(ch1, HIGH, 25000);   
int updown = map(righty  , 1053, 1870, 0, 180);    //1470-77 center
int leftright = map(rightx, 1050, 1882, 0, 180);  //1460-66is center 

Serial.print ("Updown: ");
Serial.print(righty);
Serial.print ("Servo: ");
Serial.println(updown);

/*
Serial.print ("LeftRight: ");
Serial.print(rightx);
Serial.print ("Servo: ");
Serial.println(leftright);
*/
if (rightx >= 1550){   //if i push right stick UP, LOWER THAN THE FIRST MARK!
 motorFL.write(updown);
 /*digitalWrite(motorFR, LOW);
 digitalWrite(motorBL, LOW);
 digitalWrite(motorBR, LOW);*/
 }
 
 if (rightx <= 1372){   //if i push right stick DOWN, NOT UP TO FIRST MARK DOWN!
 motorFL.write(updown);
 /*digitalWrite(motorFR, LOW);
 digitalWrite(motorBL, LOW);
 digitalWrite(motorBR, LOW);*/
 }
  if ((rightx >=1373)&&(rightx <=1549)){
  motorFL.write(0); 
  }
}
